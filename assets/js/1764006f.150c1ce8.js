"use strict";(self.webpackChunkhumanoid_robotics_book=self.webpackChunkhumanoid_robotics_book||[]).push([[25],{2459:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>m,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"module-1-ros2/code_examples","title":"rclpy Code Examples","description":"This page provides code examples for using rclpy, the Python client library for ROS 2.","source":"@site/docs/module-1-ros2/code_examples.mdx","sourceDirName":"module-1-ros2","slug":"/module-1-ros2/code_examples","permalink":"/Hackathon-Physical-AI-Humanoid-Book/docs/module-1-ros2/code_examples","draft":false,"unlisted":false,"editUrl":"https://github.com/lotusf980/Hackathon-Physical-AI-Humanoid-Book/edit/main/docs/module-1-ros2/code_examples.mdx","tags":[],"version":"current","frontMatter":{"title":"rclpy Code Examples"},"sidebar":"tutorialSidebar","previous":{"title":"ROS 2 Architecture","permalink":"/Hackathon-Physical-AI-Humanoid-Book/docs/module-1-ros2/architecture"},"next":{"title":"URDF for Humanoid Robots","permalink":"/Hackathon-Physical-AI-Humanoid-Book/docs/module-1-ros2/urdf"}}');var o=r(4848),i=r(8453);const l={title:"rclpy Code Examples"},t="rclpy Code Examples",a={},c=[{value:"Example 1: Publisher",id:"example-1-publisher",level:2},{value:"Example 2: Subscriber",id:"example-2-subscriber",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"rclpy-code-examples",children:"rclpy Code Examples"})}),"\n",(0,o.jsx)(n.p,{children:"This page provides code examples for using rclpy, the Python client library for ROS 2."}),"\n",(0,o.jsx)(n.h2,{id:"example-1-publisher",children:"Example 1: Publisher"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass MyPublisher(Node):\n\n    def __init__(self):\n        super().__init__('my_publisher')\n        self.publisher_ = self.create_publisher(String, 'my_topic', 10)\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = 'Hello, world! %d' % self.i\n        self.publisher_.publish(msg)\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\n        self.i += 1\n\ndef main(args=None):\n    rclpy.init(args=args)\n\n    my_publisher = MyPublisher()\n\n    rclpy.spin(my_publisher)\n\n    # Destroy the node explicitly\n    # (optional - otherwise it will be done automatically\n    #  when the garbage collector claims the node).\n    my_publisher.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,o.jsx)(n.h2,{id:"example-2-subscriber",children:"Example 2: Subscriber"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass MySubscriber(Node):\n\n    def __init__(self):\n        super().__init__('my_subscriber')\n        self.subscription = self.create_subscription(\n            String,\n            'my_topic',\n            self.listener_callback,\n            10)\n        self.subscription  # prevent unused variable warning\n\n    def listener_callback(self, msg):\n        self.get_logger().info('I heard: \"%s\"' % msg.data)\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n\n    my_subscriber = MySubscriber()\n\n    rclpy.spin(my_subscriber)\n\n    # Destroy the node explicitly\n    # (optional - otherwise it will be done automatically\n    #  when the garbage collector claims the node).\n    my_subscriber.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})})]})}function m(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>t});var s=r(6540);const o={},i=s.createContext(o);function l(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);